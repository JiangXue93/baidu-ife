<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>js队列</title>
</head>
<style type="text/css">
#Queue{
	margin: 10px;
	background-color: #ccc;
}
</style>
<body>
<div>
	<input type="text" id="element-in">
	<button id="left-in">左侧插入</button>
	<button id="left-out">左侧删除</button>
	<button id="right-out">右侧删除</button>
	<button id="right-in">右侧插入</button>	
</div>
<div id="Queue"></div>
</body>
<script type="text/javascript">
var queue = document.getElementById("Queue");
var leftIn = document.getElementById("left-in");
var leftOut = document.getElementById("left-out");
var rightIn = document.getElementById("right-in");
var rightOut = document.getElementById("right-out");




window.onload = function(){
	leftIn.addEventListener('click',function(){
		addElement();	
	});
	rightIn.addEventListener('click',function(){
		addElement();	
	});
	leftOut.addEventListener('click',function(){
		deleteElement();	
	});
	rightOut.addEventListener('click',function(){
		deleteElement();	
	});

}
//插入元素-优化
function addElement(event){
	event = event || window.event;
	console.log();
	var elementIn = document.getElementById("element-in");
	if(check(elementIn)){
		var newNode = "<span style='background-color:red;margin:5px 5px;display:inline-block;height:30px;line-height:30px;'>"+elementIn.value+"</span>";
		if(event.target.id == "left-in"){
			queue.innerHTML = newNode + queue.innerHTML;
		}else if(event.target.id == "right-in"){
			queue.innerHTML =  queue.innerHTML + newNode;
		}
		elementIn.value = null;
	}else{
		alert("请输入数字"); 
	}	
}

//删除元素-优化
function deleteElement(event){
	event = event || window.event;
	if(queue.hasChildNodes())
	{
		if(event.target.id == "left-out"){
			var child = queue.firstChild;
		}else if(event.target.id = "right-out"){
			var child = queue.lastChild;	
		}
		queue.removeChild(child);
	}else{
		alert("队列为空！");
	}
}
//检测input值为数字
function check(element){
	var re =  /^[0-9]+.?[0-9]*$/;
	return re.test(element.value);
}

// //操作元素左侧加入
// function addL(){
// 	var elementIn = document.getElementById("element-in");
// 	if(check(elementIn)){
// 		var newNode = "<span style='background-color:red;margin:5px 5px;display:inline-block;height:30px;line-height:30px;'>"+elementIn.value+"</span>";
// 		queue.innerHTML = newNode + queue.innerHTML;
// 		elementIn.value = null;
// 	}else{
// 		alert("请输入数字"); 
// 	}	
// }
// //操作元素右侧加入
// function addR(){
// 	var elementIn = document.getElementById("element-in");
// 	if(check(elementIn)){
// 		var newNode = "<span style='background-color:red;margin:5px 5px;display:inline-block;height:30px;line-height:30px;'>"+elementIn.value+"</span>";
// 		queue.innerHTML =  queue.innerHTML + newNode;
// 		elementIn.value = null;
// 	}else{
// 		alert("请输入数字"); 
// 	}	
// }
// //操作元素左侧删除
// function deleteL(){
// 	if(queue.hasChildNodes())
// 	{
// 		var child = queue.firstChild;
// 		queue.removeChild(child);
// 	}else{
// 		alert("队列为空！");
// 	}
	
// }
// //操作元素右侧删除
// function deleteR(){
// 	if(queue.hasChildNodes())
// 	{
// 		var child = queue.lastChild;
// 		queue.removeChild(child);
// 	}else{
// 		alert("队列为空！");
// 	}
	
// }





</script>
</html>